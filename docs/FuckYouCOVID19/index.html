<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" content="text/html">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.14.0/css/all.css" integrity="sha384-HzLeBuhoNPvSl5KYnjx0BT+WB0QEEqLprO+NBkkk5gbc67FTaL7XIGa2w1L0Xbgc" crossorigin="anonymous">
        <link rel="stylesheet" href="style.css">
        <script>
            var size = "";
            var htmlCode = "";
            var x = 0;
            var sx = 0;
            var pos = 0;
            var select_DoSi = 0;
            var select_Si = 0;
            var total_Si = 0;
            var select_DoSi_list = [];
            var select_Si_list = [];
            var Do = ['경기','강원','경남','경북','전북','전남','제주','충남','충북'];
            var SpecialOrWide_si = ['서울','부산','대구','인천','광주','대전','울산','세종']
            var KoreaCity = {'강원': ['강릉시', '고성군', '동해시', '삼척시', '속초시', '양구군', '양양군', '영월군', '원주시', '인제군', '정선군', '철원군', '춘천시', '태백시', '평창군', '홍천군', '화천군', '횡성군'], '경기': ['가평군', '고양시', '과천시', '광명시', '광주시', '구리시', '군포시', '권선구', '기흥구', '김포시', '남양주시', '단원구', '덕양구', '동두천시', '동안구', '만안구', '부천시', '분당구', '상록구', '성남시', '수원시', '수정구', '수지구', '시흥시', '안산시', '안성시', '안양시', '양주시', '양평군', '여주시', '연천군', '영통구', '오산시', '용인시', '의왕시', '의정부시', '이천시', '일산동구', '일산서구', '장안구', '중원구', '처인구', '파주시', '팔달구', '평택시', '포천시', '하남시', '화성시'], '경남': ['거제시', '거창군', '고성군', '김해시', '남해군', '마산합포구', '마산회원구', '밀양시', '사천시', '산청군', '성산구', '양산시', '의령군', '의창구', '진주시', '진해구', '창녕군', '창원시', '통영시', '하동군', '함안군', '함양군', '합천군'], '경북': ['경산시', '경주시', '고령군', '구미시', '군위군', '김천시', '남구', '문경시', '봉화군', '북구', '상주시', '성주군', '안동시', '영덕군', '영양군', '영주시', '영천시', '예천군', '울릉군', '울진군', '의성군', '청도군', '청송군', '칠곡군', '포항시'], '광주': ['광산구', '남구', '동구', '북구', '서구'], '대구': ['남구', '달서구', '달성군', '동구', '북구', '서구', '수성구', '중구'], '대전': ['대덕구', '동구', '서구', '유성구', '중구'], '부산': ['강서구', '금정구', '기장군', '남구', '동구', '동래구', '부산진구', '북구', '사상구', '사하구', '서구', '수영구', '연제구', '영도구', '중구', '해운대구'], '서울': ['강남구', '강동구', '강북구', '강서구', '관악구', '광진구', '구로구', '금천구', '노원구', '도봉구', '동대문구', '동작구', '마포구', '서대문구', '서초구', '성동구', '성북구', '송파구', '양천구', '영등포구', '용산구', '은평구', '종로구', '중구', '중랑구'], '세종': ['세종시'], '울산': ['남구', '동구', '북구', '울주군', '중구'], '인천': ['강화군', '계양구', '남동구', '동구', '미추홀구', '부평구', '서구', '연수구', '옹진군', '중구'], '전남': ['강진군', '고흥군', '곡성군', '광양시', '구례군', '나주시', '담양군', '목포시', '무안군', '보성군', '순천시', '신안군', '여수시', '영광군', '영암군', '완도군', '장성군', '장흥군', '진도군', '함평군', '해남군', '화순군'], '전북': ['고창군', '군산시', '김제시', '남원시', '덕진구', '무주군', '부안군', '순창군', '완산구', '완주군', '익산시', '임실군', '장수군', '전주시', '정읍시', '진안군'], '제주': ['서귀포시', '제주시'], '충남': ['계룡시', '공주시', '금산군', '논산시', '당진시', '동남구', '보령시', '부여군', '서북구', '서산시', '서천군', '아산시', '예산군', '천안시', '청양군', '태안군', '홍성군'], '충북': ['괴산군', '단양군', '보은군', '상당구', '서원구', '영동군', '옥천군', '음성군', '제천시', '증평군', '진천군', '청원구', '청주시', '충주시', '흥덕구']}
            
            function set(){
                var _width = window.screen.width;
                var location = Do.concat(SpecialOrWide_si);
                location.sort();
                console.log(location)
                for(var i=0;i<location.length;i++){
                    document.getElementsByClassName('do-element-span')[i].innerHTML = location[i];
                }
                document.getElementsByClassName("information-slider")[0].style.height = (window.screen.height-260)+"px";
                document.getElementsByClassName("information-list")[0].style.height = (window.screen.height)+"px";
            }
            
            function calendar_search_dialog(){
                var ele = document.getElementsByClassName("calendar-search-dialog")[0];
                var _width = window.screen.width;
                ele.style.transition = "height 0.6s";
                ele.style.height = "70%";
            }
            
            function location_search_dialog(){
                document.getElementsByClassName("location-search-dialog")[0].style.transition = "height 0.6s";
                
                console.log(screen.height)
                
                if(screen.height < 616){
                    document.getElementsByClassName("location-search-dialog")[0].style.height = "70%";    
                }
                
                else if(screen.height < 716 && screen.height >= 616){
                    document.getElementsByClassName("location-search-dialog")[0].style.height = "65%";    
                }
                
                else if(screen.height < 800 && screen.height >= 716){
                 document.getElementsByClassName("location-search-dialog")[0].style.height = "55%";   
                }
                
                else if(screen.height < 846 && screen.height >= 800){
                 document.getElementsByClassName("location-search-dialog")[0].style.height = "50%";   
                }
                
                else if(screen.height < 920 && screen.height >= 846){
                 document.getElementsByClassName("location-search-dialog")[0].style.height = "48%";   
                }
                
                else if(screen.height < 980 && screen.height >= 920){
                 document.getElementsByClassName("location-search-dialog")[0].style.height = "44%";   
                }
                
                else{
                 document.getElementsByClassName("location-search-dialog")[0].style.height = "40%";
                }
            }
            
            function close_location_search_dialog(){
                document.getElementsByClassName("location-search-dialog")[0].style.transition = "height 0.6s";
                document.getElementsByClassName("location-search-dialog")[0].style.height = "0%";
            }
            
            function close_calendar_search_dialog(){
                var ele = document.getElementsByClassName("calendar-search-dialog")[0];
                ele.style.transition = "height 0.6s";
                ele.style.height = "0%";
            }
            
            function alert(e){
                var input = document.getElementById("mySearch");
                var to = document.getElementsByClassName("information-list")[0];
                if(e.keyCode === 13){
                    console.log(input.value);
                    to.innerHTML = input.value
                }
            }
            
            function sendFromSi(ele){
                if(select_Si_list.indexOf(ele.textContent) == -1){
                    select_Si_list.push(ele.textContent);
                    select_Si += 1;
                    ele.style.backgroundColor = "#1C2541";
                    ele.style.color = "white";
                }
                else if(select_Si_list.indexOf(ele.textContent) >= 0){
                    select_Si_list.splice(select_Si_list.indexOf(ele.textContent),1);
                    select_Si -= 1;
                    ele.style.backgroundColor = "#F2F2F2";
                    ele.style.color = "black";
                }
                document.getElementsByClassName("amount-si")[0].innerHTML = select_Si;
                document.getElementsByClassName("information-list")[0].innerHTML = select_Si_list
                document.getElementsByClassName("calendar-search-location")[0].innerHTML = select_Si_list
            }
            
            function sendFromDoSi(ele){
                console.log(ele.textContent);
                if(select_DoSi_list.indexOf(ele.textContent) == -1){
                    select_DoSi_list.push(ele.textContent)
                    select_DoSi += 1;
                    console.log(ele.style.backgroundColor);
                    ele.style.backgroundColor = "#1C2541";
                    ele.style.color = "white";
                    var len = KoreaCity[ele.textContent].length;
                    total_Si += len;
                    console.log("len: "+len);
                    for(var i=0;i<len;i++){
                        size += "40% ";
                        document.getElementsByClassName("select-si")[0].insertAdjacentHTML('beforeend','<div class="do-si-element si-element '+ele.textContent+'"><button onclick="sendFromSi(this)"><span class="do-si-element-span si-element-span">'+KoreaCity[ele.textContent][i]+'</span></button></div>');
                    }
                    console.log("size: "+size)
                    document.getElementsByClassName("select-si")[0].style.gridTemplateColumns = size;
                    document.getElementsByClassName("total-si")[0].innerHTML = total_Si;
                    
                    if(select_DoSi == 1){
                        document.getElementsByClassName("select-container")[1].style.display = "block";
                        document.getElementsByClassName("select-amount")[1].style.display = "block";
                        document.getElementsByClassName("select3")[0].style.display = "block";
                    }
                }
                else if(select_DoSi_list.indexOf(ele.textContent) >= 0){
                    select_DoSi -= 1; 
                    select_DoSi_list.splice(select_DoSi_list.indexOf(ele.textContent),1);
                    ele.style.backgroundColor = "#F2F2F2";
                    ele.style.color = "black";
                    
                    total_Si -= KoreaCity[ele.textContent].length;
                    size = '';
                    for(var i=0;i<total_Si;i++){
                        size += "40% ";
                    }
                    
                    while(1){
                        if(document.getElementsByClassName(ele.textContent)[0] != undefined){
                            console.log(document.getElementsByClassName(ele.textContent)[0].childNodes[0].style.color)
                            if(document.getElementsByClassName(ele.textContent)[0].childNodes[0].style.color == "white"){
                                select_Si -= 1;
                                select_Si_list.splice(select_Si_list.indexOf(document.getElementsByClassName(ele.textContent)[0].childNodes[0].textContent), 1)
                                document.getElementsByClassName("information-list")[0].innerHTML = select_Si_list
                                document.getElementsByClassName("calendar-search-location")[0].innerHTML = select_Si_list
                            }
                            document.getElementsByClassName(ele.textContent)[0].remove()   
                        }
                        else{
                            break;
                        }
                    }
                    
                    if(select_DoSi == 0){
                        document.getElementsByClassName("select-container")[1].style.display = "none";
                        document.getElementsByClassName("select-amount")[1].style.display = "none"; 
                        document.getElementsByClassName("select3")[0].style.display = "none";
                    }
                    
                    document.getElementsByClassName("select-si")[0].style.gridTemplateColumns = size;
                }
                document.getElementsByClassName("amount")[0].innerHTML = select_DoSi;
                document.getElementsByClassName("amount-si")[0].innerHTML = select_Si;
                document.getElementsByClassName("total-si")[0].innerHTML = total_Si;
            }
            
            function drag(event){
                x = event.touches[0].clientX;
            }
            
            function start(event){
                sx = event.touches[0].clientX;
            }
            
            function end(){
                var _width = window.innerWidth;
                
                if(sx - x >= 90 && pos != -2*_width){
                    pos -= _width;
                    console.log(pos);
                    for(var i=0;i<3;i++){
                        document.getElementsByClassName("slider")[i].style.transition = "transform 1s";
                        document.getElementsByClassName("slider")[i].style.transform = "translate("+ pos +"px,0)";
                        if(-(pos/_width) == i){
                            document.getElementsByClassName("dot")[i].style.backgroundColor = "white";
                        }
                        else{
                            document.getElementsByClassName("dot")[i].style.backgroundColor = "transparent";
                        }
                    }
                    console.log("slide left");
                }
                else if(sx - x <= -90 && pos != 0){
                    pos += _width;
                    console.log(pos);
                    for(var i=0;i<3;i++){
                        document.getElementsByClassName("slider")[i].style.transition = "transform 1s";
                        document.getElementsByClassName("slider")[i].style.transform = "translate("+ pos +"px,0)";
                        if(-(pos/_width) == i){
                            document.getElementsByClassName("dot")[i].style.backgroundColor = "white";
                        }
                        else{
                            document.getElementsByClassName("dot")[i].style.backgroundColor = "transparent";
                        }
                    }
                    console.log("slide right");
                }
            }
        </script>
    </head>
    
    <body onload="set()">
        <div class="mobile">
            <div class="main-content">
                <div class="location">
                    <i class="fas fa-map-marker-alt"></i> Current location
                </div>
                <div class="divider"></div>
                <div class="information-slider" ontouchstart="start(event)" ontouchmove = "drag(event)" ontouchend="end()">
                    <div class="slider s1">
                        Overview
                    </div>
                    <div class="slider s2">
                        Statistics
                    </div>
                    <div class="slider s3">
                        Alert / News
                    </div>
                </div>
                <div class="dot-information">
                    <span class="dot d1"></span>
                    <span class="dot d2"></span>
                    <span class="dot d3"></span>
                </div>
                <div class="divider"></div>
                <div class="search-bar">
                    <div>
                        <input type="search" placeholder="Search.." id="mySearch" onkeypress="alert(event)">
                        <div class="filter">
                            <div class="filter-box">
                                <button onclick="location_search_dialog()"><div class="filter-childern by-location"><i class="fas fa-map-marked-alt"></i></div></button>
                            </div>
                            <div class="empty"></div>
                            <div class="filter-box">
                                <button onclick="calendar_search_dialog()"><div class="filter-childern by-date"><i class="far fa-calendar-alt"></i></div></button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="divider"></div>
                <div class="information-list">
                    Display informations in here
                </div>
                <div class="divider"></div>
            </div>
            <div class="location-search-dialog">
                <div class="close">
                    <div></div>
                    <div class="location-search-today">2020-01-01 Wed</div>
                    <div class="location-search-close-button-container">
                     <button class="close-select-dialog-button" onclick="close_location_search_dialog()"><i class="fas fa-times"></i></button>
                    </div>
                </div>
                <div class="select-location">
                    <div class="select-location-main">
                        <div class="select-container select1">
                            <div class="select-title">도/광역시/특별시 선택</div>
                            <div class="select select-do">
                                <div class="do-si-element do-element"><button class="do-si-element-button" onclick="sendFromDoSi(this)"><span class="do-si-element-span do-element-span"></span></button></div>
                                <div class="do-si-element do-element"><button onclick="sendFromDoSi(this)"><span class="do-si-element-span do-element-span"></span></button></div>
                                <div class="do-si-element do-element"><button  onclick="sendFromDoSi(this)"><span class="do-si-element-span do-element-span"></span></button></div>
                                <div class="do-si-element do-element"><button  onclick="sendFromDoSi(this)"><span class="do-si-element-span do-element-span"></span></button></div>
                                <div class="do-si-element do-element"><button  onclick="sendFromDoSi(this)"><span class="do-si-element-span do-element-span"></span></button></div>
                                <div class="do-si-element do-element"><button  onclick="sendFromDoSi(this)"><span class="do-si-element-span do-element-span"></span></button></div>
                                <div class="do-si-element do-element"><button  onclick="sendFromDoSi(this)"><span class="do-si-element-span do-element-span"></span></button></div>
                                <div class="do-si-element do-element"><button  onclick="sendFromDoSi(this)"><span class="do-si-element-span do-element-span"></span></button></div>
                                <div class="do-si-element do-element"><button  onclick="sendFromDoSi(this)"><span class="do-si-element-span do-element-span"></span></button></div>
                                <div class="do-si-element do-element"><button  onclick="sendFromDoSi(this)"><span class="do-si-element-span do-element-span"></span></button></div>
                                <div class="do-si-element do-element"><button  onclick="sendFromDoSi(this)"><span class="do-si-element-span do-element-span"></span></button></div>
                                <div class="do-si-element do-element"><button  onclick="sendFromDoSi(this)"><span class="do-si-element-span do-element-span"></span></button></div>
                                <div class="do-si-element do-element"><button  onclick="sendFromDoSi(this)"><span class="do-si-element-span do-element-span"></span></button></div>
                                <div class="do-si-element do-element"><button  onclick="sendFromDoSi(this)"><span class="do-si-element-span do-element-span"></span></button></div>
                                <div class="do-si-element do-element"><button  onclick="sendFromDoSi(this)"><span class="do-si-element-span do-element-span"></span></button></div>
                                <div class="do-si-element do-element"><button  onclick="sendFromDoSi(this)"><span class="do-si-element-span do-element-span"></span></button></div>
                                <div class="do-si-element do-element"><button  onclick="sendFromDoSi(this)"><span class="do-si-element-span do-element-span"></span></button></div>
                            </div>
                        </div>
                        <div class="select-amount select-amount-do-si">
                            <span class="amount">0</span>/17
                        </div>
                        <div class="select-container select2">
                            <div class="select-title">시/군/구 선택</div>
                            <div class="select select-si"></div>
                        </div>
                        <div class="select-amount select-amount-si">
                            <span class="amount-si">0</span>/<span class="total-si"></span>
                        </div>
                        <div class="select3">
                            <button class="location-submit">Submit</button>
                        </div>
                        <div class="select4"></div>
                    </div>
                </div>
            </div>
            <div class="calendar-search-dialog">
                <div class="close-calendar">
                    <div></div>
                    <div class="calendar-search-location"></div>
                    <div class="location-search-close-button-container">
                        <button class="close-select-dialog-button" onclick="close_calendar_search_dialog()"><i class="fas fa-times"></i></button>
                    </div>
                </div>
                <div class="calendar-main">
                    <div class="calendar-main-container">
                        <div class="calendar-year-title">2020</div>
                        <div class="calender-month-picker-title">월 선택</div>
                        <div class="calendar-month-picker-container">
                            <div class="calendar-month-overview-row calendar-month-overview-row1">
                                <div class="calendar-month-overview calendar-month-overview-col1">
                                    <button>1월</button>
                                </div>
                                <div class="calendar-month-overview calendar-month-overview-col2">
                                    <button>2월</button>
                                </div>
                                <div class="calendar-month-overview calendar-month-overview-col3">
                                    <button>3월</button>
                                </div>
                            </div>
                            <div class="calendar-month-overview-row calendar-month-overview-row2">
                                <div class="calendar-month-overview calendar-month-overview-col1">
                                    <button>4월</button>
                                </div>
                                <div class="calendar-month-overview calendar-month-overview-col2">
                                    <button>5월</button>
                                </div>
                                <div class="calendar-month-overview calendar-month-overview-col3">
                                    <button>6월</button>
                                </div>
                            </div>
                            <div class="calendar-month-overview-row calendar-month-overview-row3">
                                <div class="calendar-month-overview calendar-month-overview-col1">
                                    <button>7월</button>
                                </div>
                                <div class="calendar-month-overview calendar-month-overview-col2">
                                    <button>8월</button>
                                </div>
                                <div class="calendar-month-overview calendar-month-overview-col3">
                                    <button>9월</button>
                                </div>
                            </div>
                            <div class="calendar-month-overview-row calendar-month-overview-row4">
                                <div class="calendar-month-overview calendar-month-overview-col1">
                                    <button>10월</button>
                                </div>
                                <div class="calendar-month-overview calendar-month-overview-col2">
                                    <button>11월</button>
                                </div>
                                <div class="calendar-month-overview calendar-month-overview-col3">
                                    <button>12월</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>